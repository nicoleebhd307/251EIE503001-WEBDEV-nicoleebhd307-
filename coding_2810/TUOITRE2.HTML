<html>
<head>
  <meta charset='utf-8'>
  <title> Page Title </title>
  <script>
    var id=['2347719', '20070078', '20070086', '2347731', '2347730', '20070081', '20070087', '20070084', '20070088', '2347703', '2347704', '20070082', '2347732', '28301718', '20070085', '1252375', '2347720', '28301719', '2347721', '2347722', '2347733', '2347727', '2347728', '2347734', '2347741', '2347736', '2347737', '20070079', '20070080', '2347707', '28301720', '2347738', '2347723', '20070076', '2347708', '2347710', '2347740', '2347709', '2347718', '20070089', '2347742', '2347743', '2347744', '20070091', '2347745', '2347746', '2347711', '20070077', '2347712', '2347747', '2347748', '2347713', '2347715', '2347716', '20070083', '2347749', '2347717', '2347750', '2347751', '2347714', '2347752', '20070090', '2347729', '2347753']
    var names=[]
  </script>
</head>
<body>
    <!--https://utils3.cnnd.vn/ajax/weatherinfo/2347711.htm
    get mã tỉnh thành (truy vấn theo mã tỉnh thành, tên,...) trả về dạng mảng json trong Console
    API: json/xml

    -->
    <h3> === Weather Forecast ===</h3>
    <select id="provinces" onchange="show_detail_weather_forecast(this.value)">

    </select>
    <script type="text/javascript">
        function load_provinces()
        {
            for (i=0;i<ids.length;i++)
        {
            city_id=id[i]
            city_name=names[i]
            opt=document.createElement("option")
            opt.setAttribute("value", city_id)
            opt.innerText=city_name
            provinces.appendChild(opt)
        }
        }
        load_provinces()
        show_detail_weather_forecast(value)
        {
          proxy=""
            api="https://utils3.cnnd.vn/ajax/weatherinfo/"+value+".htm"
            api_proxy=proxy_api
            my_div.innerText="Loading...please wait..."
            var xhr=new XMLHttpRequest()
            xhr.open("get", api_proxy,true)
            xhr.send()
            xhr.onreadystatechange=function()
            {
              if (xhr.readyState==4 && xhr.status==200) 
            {
              string_json=xhr.responseText
              my_div.innerText=string_json
              object_json=JSON.parse(string_json)
            }
            }
        }

</script>
</body>
</html>